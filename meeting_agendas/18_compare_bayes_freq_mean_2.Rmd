---
title: "Comparing Bayesian And Frequentist Inferences For Mean Part 2 (Ch.12)"
author: "AG Schissler"
date: "04/03/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

<bring to class: laptop, sleep data>

## Start-of-class work: Comparing approaches to how much sleep do we get over Spring Break? (5 - 10 min)

1. Retrieve your notes regarding our sleep data from last meeting.
2. Construct a 95% credible interval for $\mu$, the average number of sleep. Assume that the variance, $\sigma^2$, is **unknown** and use the (unbiased) sample standard deviation from our data, $\hat{\sigma} = 1.3254$. Also assume a flat prior for $\mu$.
3. Compare credible interval too the frequentist interval. Interpret both intervals in lay-person language.

## II. Testing a One-Sided Hypothesis about a Normal Mean (12.3; 10 - 15 min)
  
### Example 12.3 (continued from Example 11.3, p. 222)

Arne, Barb, and Chuck read in a journal that the mean length of yearling rainbow trout in a typical stream habitat is 31 cm. They each decide to determine if the mean length of trout in the stream they are researching is greater than that by testing 

$$
H_0: \mu \leq 31 \: versus \: H_1: \mu > 31
$$

at the Î± = 5% level. For one-sided Bayesian hypothesis tests, they calculate the posterior probability of the null hypothesis. Arnie and Barb have normal posteriors, so they use Equation 12.4. Chuck has a nonnormal posterior that he calculated numerically.

```{r}
## OUR CODE HERE
compute_normalMean_normalPrior <- function(m, s2, n, y_bar, sigma2){
    ## posterior precision is the sum of prior and sample precision
    total_precision <- 1/s2 + n/sigma2
    s_prime2 <- 1/total_precision
    ## posterior mean is the weighted average of prior and sample mean
    m_prime <- ( (1/s2) / total_precision ) * m + ( (n/sigma2) / total_precision ) * y_bar
    ## return as a list
    list(m_prime=m_prime, s_prime2=s_prime2, s_prime = sqrt(s_prime2))
}

```

## III. Testing a One-Sided Hypothesis about a Normal Mean (12.4; 10 - 15 min)
  
### Extend Example 12.3 (continued from Example 11.3, p. 222)

Let's extend the last the example to test a two-sided hypothesis.

```{r}
## OUR CODE HERE
```

## IV. Testing hypotheses for our sleep data estimators (25 - 30 min)

### One-sided testing of sleep data
1. Under your prior, test the hypothesis that $\mu > 8$ from using our Bayesian approach.
2. Now do this using the frequentist approach.
3. Compare the conclusions at $\alpha = 0.05$.

### Two-sided testing of sleep data
1. Under your prior, test the hypothesis that $\mu \neq 7$ from using our Bayesian approach.
2. Now do this using the frequentist approach.
3. Compare the conclusions at $\alpha = 0.05$.

## V. Remaining time spent on HW 9 (Ch.12, #1, 2, 4).

Please Work on your HW with your peers and asking me any questions.

## Closing (5 - 10 min)

- How much sleep did we get during Spring Break?
- Is the "answer" consistent across statistical philosophies (Bayesian vs. frequentist)?
- How many hours would you predict a student would sleep over day next Spring Break?
